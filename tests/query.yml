#!/usr/bin/ansible-playbook
---
#
#      Copyright (c) 2020 World Wide Technology, LLC
#      All rights reserved.
#
#      author: Joel W. King, World Wide Technology
#
#      usage: ./query.yml
#
#  
- hosts: localhost
  gather_facts: no
  connection: local

  vars_files:
    # None

  vars:
    # None

  module_defaults:
    joelwking.pensando.network_security_policy:
      hostname: 10.255.40.39
      username: admin
      password: "Pensando0$"                    # I only show it because it is the documented default
      api_version: v1
      tenant: default
      namespace: default

  tasks:
    - name: Query Policy
      joelwking.pensando.network_security_policy:
          state: query